services:
  rkllm-openai:
    image: ghcr.io/huangyajie/rkllm-openai:latest
    container_name: rkllm-openai
    restart: unless-stopped
    
    # Critical for Rockchip NPU access
    privileged: true
    network_mode: "host"
    
    devices:
      - /dev/dri:/dev/dri
    
    environment:
      - CONFIG_FILE=/app/config/config.yaml
    
    volumes:
      - ./lib:/app/lib:ro
      - ./models:/app/models:ro
      - ./config.yaml:/app/config/config.yaml:ro
      - ./logs:/app/logs
    
    healthcheck:
      disable: true